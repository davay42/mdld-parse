@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix sh:   <http://www.w3.org/ns/shacl#> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix tag:  <tag:mdld.js.org,2026:spanish:> .
@prefix ex:   <tag:mdld.js.org,2026:spanish:example:> .
@prefix mdp:  <http://mdld.js.org/prov/> .

# ========================================
# ACTIVITIES - The Actions
# ========================================

# STROKE 2: Internal Analysis (Bottom Right)
ex:activity_spanish_analysis a prov:Activity ;
    rdfs:label "Internal Analysis of Spanish Countries Wikipedia Page" ;
    prov:used ex:document_spanish_countries ;
    prov:startedAtTime "2026-02-24T23:10:00Z"^^xsd:dateTime ;
    prov:endedAtTime "2026-02-24T23:15:00Z"^^xsd:dateTime ;
    prov:qualifiedAssociation ex:association_spanish_analysis ;
    prov:wasInfluencedBy ex:goal_spanish_countries .

# Association for internal analysis
ex:association_spanish_analysis a prov:Association ;
    prov:agent ex:agent_cascade ;
    prov:hadPlan ex:goal_spanish_countries ;
    prov:hadRole ex:role_analyst .

# Role for internal analysis
ex:role_analyst a prov:Role ;
    rdfs:label "Knowledge Analyst" .

# AGENTS
ex:agent_user a prov:Agent, prov:Person ;
    rdfs:label "Human User" .

ex:agent_cascade a prov:Agent, prov:SoftwareAgent ;
    rdfs:label "Cascade AI Assistant" ;
    prov:actedOnBehalfOf ex:agent_user .

# STROKE 3: External Validation (Top Right)
ex:activity_external_validation a prov:Activity ;
    rdfs:label "External Validation of Spanish Countries via Wikipedia API" ;
    prov:used ex:entity_api_spanish_countries ;
    prov:wasInformedBy ex:activity_spanish_analysis ;
    prov:startedAtTime "2026-02-24T23:20:00Z"^^xsd:dateTime ;
    prov:endedAtTime "2026-02-24T23:25:00Z"^^xsd:dateTime ;
    prov:qualifiedAssociation ex:association_external_validation ;
    prov:generated ex:goal_spanish_countries .

# Association for external validation
ex:association_external_validation a prov:Association ;
    prov:agent ex:agent_cascade ;
    prov:hadPlan ex:goal_spanish_countries ;
    prov:hadRole ex:role_validator .

# Role for external validation
ex:role_validator a prov:Role ;
    rdfs:label "External Data Validator" .

# ACTIVITY TO USE FINAL COLLECTION - Fix Phase 2 violation
ex:activity_final_collection_usage a prov:Activity ;
    rdfs:label "Final Collection Usage Activity" ;
    prov:used ex:collection_all_spanish_countries ;
    prov:startedAtTime "2026-02-24T23:36:00Z"^^xsd:dateTime ;
    prov:endedAtTime "2026-02-24T23:37:00Z"^^xsd:dateTime ;
    prov:qualifiedAssociation ex:association_final_collection_usage .

# Association for final collection usage
ex:association_final_collection_usage a prov:Association ;
    prov:agent ex:agent_cascade ;
    prov:hadPlan ex:goal_spanish_countries ;
    prov:hadRole ex:role_final_collection_user .

# Role for final collection usage
ex:role_final_collection_user a prov:Role ;
    rdfs:label "Final Collection User" .

# ACTIVITY TO USE COLLECTION - Fix Phase 2 violation
ex:activity_collection_usage a prov:Activity ;
    rdfs:label "Collection Usage Activity" ;
    prov:used ex:document_spanish_countries ;
    prov:startedAtTime "2026-02-24T23:26:00Z"^^xsd:dateTime ;
    prov:endedAtTime "2026-02-24T23:27:00Z"^^xsd:dateTime ;
    prov:qualifiedAssociation ex:association_collection_usage .

# Association for collection usage
ex:association_collection_usage a prov:Association ;
    prov:agent ex:agent_cascade ;
    prov:hadPlan ex:goal_spanish_countries ;
    prov:hadRole ex:role_collection_user .

# Role for collection usage
ex:role_collection_user a prov:Role ;
    rdfs:label "Collection User" .

# STROKE 4: Grounding (Bottom Left)
ex:activity_grounding a prov:Activity ;
    rdfs:label "Grounding Activity using API-verified Spanish Countries" ;
    prov:used ex:collection_all_spanish_countries ;
    prov:wasInformedBy ex:activity_external_validation ;
    prov:startedAtTime "2026-02-24T23:30:00Z"^^xsd:dateTime ;
    prov:endedAtTime "2026-02-24T23:35:00Z"^^xsd:dateTime ;
    prov:qualifiedAssociation ex:association_grounding ;
    prov:generated ex:goal_spanish_countries ;
    prov:generated ex:goal_language_research .

# Association for grounding activity
ex:association_grounding a prov:Association ;
    prov:agent ex:agent_cascade ;
    prov:hadPlan ex:goal_spanish_countries ;
    prov:hadRole ex:role_grounding_agent .

# Role for grounding activity
ex:role_grounding_agent a prov:Role ;
    rdfs:label "Grounding Agent" .

# STROKE 5: Goal Completion (Top Left) - Second Iteration
ex:activity_goal_completion a prov:Activity ;
    rdfs:label "Goal Completion Activity - Finalizing Spanish Countries Research" ;
    prov:used ex:entity_grounding_result ;
    prov:wasInformedBy ex:activity_external_validation ;
    prov:startedAtTime "2026-02-24T23:40:00Z"^^xsd:dateTime ;
    prov:endedAtTime "2026-02-24T23:45:00Z"^^xsd:dateTime ;
    prov:qualifiedAssociation ex:association_goal_completion ;
    prov:generated ex:goal_spanish_countries .

# Association for goal completion
ex:association_goal_completion a prov:Association ;
    prov:agent ex:agent_cascade ;
    prov:hadPlan ex:goal_spanish_countries ;
    prov:hadRole ex:role_goal_completer .

# Role for goal completion
ex:role_goal_completer a prov:Role ;
    rdfs:label "Goal Completer" .
